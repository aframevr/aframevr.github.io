


<!DOCTYPE html>
<html lang="en" data-is-home="false" data-is-mobile="false">
  <head>
    <title>Component — A-Frame</title>
    

<script>
var host = window.location.protocol + '//' + window.location.hostname;
if (host === 'http://aframe.io' || host === 'http://aframevr.github.io') {
  window.location.href = 'https:' + window.location.href.substring(6);
}
</script>


    <meta charset="utf-8">
    <meta name="robots" content="all">
    <meta name="description" content="A-Frame – Building Blocks for the VR Web">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="fb:app_id" content="1535794316743373">
    <meta property="og:title" content="A-Frame">
    <meta property="og:site_name" content="A-Frame">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aframe.io/">
    <meta property="og:description" content="Building Blocks for the VR Web">
    <meta property="og:image" content="http://aframe.io/images/card.png">
    <meta property="og:image:secure_url" content="https://aframe.io/images/card.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@aframevr">
    <meta name="twitter:creator" content="@aframevr">
    <meta name="twitter:title" content="A-Frame">
    <meta name="twitter:description" content="Building Blocks for the VR Web">
    <meta name="twitter:image" content="https://aframe.io/images/card.png">

    <link rel="icon" href="/images/aframe-logo.png" type="image/x-icon">
    <script src="/js/mobile.js" type="text/javascript"></script>
    
      <link rel="stylesheet" href="/css/secondary.css" type="text/css">
    
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-24056643-4', 'auto');
  ga('send', 'pageview');
</script>


  </head>
  <body data-page-layout="docs" data-page-type="core">
    
      <aside class="sidebar sidebar-mobile borderless-links c">
  <header id="header" class="header">
    <a href="#secondary-nav" class="mobile-nav-btn">Menu</a>
    <a id="logo" class="logo" href="/">
      <span class="logo__wordmark">A-Frame</span>
    </a>
  </header>
</aside>

    
    <main id="main" class="main">
      <aside class="sidebar borderless-links">

  

<div id="secondary-nav" class="secondary-nav">
  <header id="header" class="header">
    <a id="logo" class="logo" href="/">
      <span class="logo__wordmark">A-Frame</span>
    </a>
  </header>

  <ul id="nav" class="nav">
    
      <li class="nav-item"><a href="/docs/guide/" class="nav-link nav-link-docs"><span>Getting Started</span></a></li>
    
      <li class="nav-item"><a href="/docs/guide/installation.html" class="nav-link nav-link-docs"><span>Install</span></a></li>
    
      <li class="nav-item"><a href="/examples/" class="nav-link nav-link-docs"><span>Examples</span></a></li>
    
      <li class="nav-item"><a href="https://github.com/aframevr/aframe/" class="nav-link nav-link-docs" target="blank" rel="external"><span>GitHub</span></a></li>
    
      <li class="nav-item"><a href="/faq/" class="nav-link nav-link-docs"><span>FAQ</span></a></li>
    
      <li class="nav-item"><a href="/blog/" class="nav-link nav-link-docs"><span>Changelog</span></a></li>
    
      <li class="nav-item"><a href="/community/" class="nav-link nav-link-docs"><span>Community</span></a></li>
    
  </ul>
</div>


  <div class="list">
    
    
      
      <h3 class="section-title docs-section-title section-title-inactive"><a href="/docs/guide/" class="section-title-link section-title-link-inactive">Guide</a></h3>

      <ol class="subnav section-subnav numbered-subnav">
        
          <li class="subnav-item ">
            <a href="/docs/guide/" class="subnav-link">Getting Started</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/installation.html" class="subnav-link">Installation</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/objects.html" class="subnav-link">Adding objects</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/positioning.html" class="subnav-link">Positioning</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/entering-vr.html" class="subnav-link">Entering VR</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/cameras-and-lights.html" class="subnav-link">Adding cameras and lights</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/interactivity.html" class="subnav-link">Adding interactivity</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/video-and-audio.html" class="subnav-link">Adding video and audio</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/materials.html" class="subnav-link">Adding materials</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/guide/animations.html" class="subnav-link">Adding animations</a>
          </li>
        
      </ol>
    
      
      <h3 class="section-title docs-section-title section-title-inactive"><a href="/docs/primitives/" class="section-title-link section-title-link-inactive">Primitives</a></h3>

      <ol class="subnav section-subnav">
        
          <li class="subnav-item ">
            <a href="/docs/primitives/" class="subnav-link">Introduction</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-camera.html" class="subnav-link">&lt;a-camera&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-cube.html" class="subnav-link">&lt;a-cube&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-curvedimage.html" class="subnav-link">&lt;a-curvedimage&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-cylinder.html" class="subnav-link">&lt;a-cylinder&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-image.html" class="subnav-link">&lt;a-image&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-light.html" class="subnav-link">&lt;a-light&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-model.html" class="subnav-link">&lt;a-model&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-plane.html" class="subnav-link">&lt;a-plane&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-sky.html" class="subnav-link">&lt;a-sky&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-sphere.html" class="subnav-link">&lt;a-sphere&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-video.html" class="subnav-link">&lt;a-video&gt;</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/primitives/a-videosphere.html" class="subnav-link">&lt;a-videosphere&gt;</a>
          </li>
        
      </ol>
    
      
      <h3 class="section-title docs-section-title section-title-active"><a href="/docs/core/" class="section-title-link section-title-link-active">Core</a></h3>

      <ol class="subnav section-subnav">
        
          <li class="subnav-item ">
            <a href="/docs/core/" class="subnav-link">Entity-Component System</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/core/entity.html" class="subnav-link">Entity</a>
          </li>
        
          <li class="subnav-item  subnav-item-current">
            <a href="/docs/core/component.html" class="subnav-link current">Component</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/core/scene.html" class="subnav-link">Scene</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/core/templates.html" class="subnav-link">Templates</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/core/animation.html" class="subnav-link">Animation</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/core/mixin.html" class="subnav-link">Mixin</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/core/assets.html" class="subnav-link">Assets</a>
          </li>
        
      </ol>
    
      
      <h3 class="section-title docs-section-title section-title-inactive"><a href="/docs/components/" class="section-title-link section-title-link-inactive">Components</a></h3>

      <ol class="subnav section-subnav">
        
          <li class="subnav-item ">
            <a href="/docs/components/" class="subnav-link">Camera</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/cursor.html" class="subnav-link">Cursor</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/fog.html" class="subnav-link">Fog</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/geometry.html" class="subnav-link">Geometry</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/light.html" class="subnav-link">Light</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/loader.html" class="subnav-link">Loader</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/look-at.html" class="subnav-link">Look-At</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/look-controls.html" class="subnav-link">Look Controls</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/material.html" class="subnav-link">Material</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/position.html" class="subnav-link">Position</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/raycaster.html" class="subnav-link">Raycaster</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/rotation.html" class="subnav-link">Rotation</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/scale.html" class="subnav-link">Scale</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/sound.html" class="subnav-link">Sound</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/visible.html" class="subnav-link">Visible</a>
          </li>
        
          <li class="subnav-item ">
            <a href="/docs/components/wasd-controls.html" class="subnav-link">WASD Controls</a>
          </li>
        
      </ol>
    
  </div>

</aside>

<div class="content content--structured content--core copy">
  <div class="copy__wrap">

    <p class="page__section"><a href="/docs/core/" class="borderless-link">Core</a></p>
    <h1 class="page__title">Component</h1>

    <p>In the entity-component architecture, components are reusable and modular chunks of data that modify an aspect of an entity, changing its appearance, behavior, or functionality.</p>
<p>As an analogy, if a smartphone were defined as an entity, it might use components to define its appearance (color, shape), to define its behavior (vibrate when called, shut down on low battery), or to define its functionality (camera, screen).</p>
<p>In A-Frame, components modify 3D entities in the scene’s world.  We will go into detail on what components look like under the hood and how we can define  ur own custom components to do whatever we want. Below are a list of components that currently ship with A-Frame.</p>
<table>
<thead>
<tr>
<th>Component</th>
</tr>
</thead>
<tbody>
<tr>
<td>camera</td>
</tr>
<tr>
<td>cursor</td>
</tr>
<tr>
<td>fog</td>
</tr>
<tr>
<td>geometry</td>
</tr>
<tr>
<td>light</td>
</tr>
<tr>
<td>loader</td>
</tr>
<tr>
<td>look-at</td>
</tr>
<tr>
<td>look-controls</td>
</tr>
<tr>
<td>material</td>
</tr>
<tr>
<td>position</td>
</tr>
<tr>
<td>raycaster</td>
</tr>
<tr>
<td>rotation</td>
</tr>
<tr>
<td>scale</td>
</tr>
<tr>
<td>sound</td>
</tr>
<tr>
<td>visible</td>
</tr>
<tr>
<td>wasd-controls</td>
</tr>
</tbody>
</table>
<h2 id="Defining_Component_Data"><a href="#Defining_Component_Data" class="headerlink" title="Defining Component Data"></a>Defining Component Data</h2><p>To declaratively define component data, we can set HTML attributes using a CSS style-like syntax.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">a-entity</span> <span class="attribute">geometry</span>=<span class="value">"primitive: box; width: 5"</span>&gt;</span><span class="tag">&lt;/<span class="title">a-entity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>And component data can also be declaratively defined and composed via mixins.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">a-assets</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">a-mixin</span> <span class="attribute">id</span>=<span class="value">"red"</span> <span class="attribute">material</span>=<span class="value">"color: red"</span>&gt;</span><span class="tag">&lt;/<span class="title">a-mixin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">a-mixin</span> <span class="attribute">id</span>=<span class="value">"box"</span> <span class="attribute">geometry</span>=<span class="value">"primitive: box; width: 5"</span>&gt;</span><span class="tag">&lt;/<span class="title">a-mixin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">a-assets</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">a-entity</span> <span class="attribute">mixin</span>=<span class="value">"red box"</span>&gt;</span><span class="tag">&lt;/<span class="title">a-entity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>To imperatively set component data, we can use the entity’s <code>setAttribute</code>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = <span class="built_in">document</span>.querySelector(<span class="string">'a-entity'</span>);</span><br><span class="line">entity.setAttribute(<span class="string">'material'</span>, <span class="string">'color: red'</span>);</span><br><span class="line">entity.setAttribute(<span class="string">'geometry'</span>, &#123;primitive: <span class="string">'box'</span>&#125;);</span><br><span class="line">entity.setAttribute(<span class="string">'geometry'</span>, <span class="string">'width'</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Accessing_a_Component"><a href="#Accessing_a_Component" class="headerlink" title="Accessing a Component"></a>Accessing a Component</h2><p>Components can be imperatively accessed through the entity element via <code>components</code>, an object mapping component names to component instances.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> entity = <span class="built_in">document</span>.querySelector(<span class="string">'a-entity'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(entity.components);</span><br></pre></td></tr></table></figure>
<h2 id="Component_Definition_and_Lifecycle"><a href="#Component_Definition_and_Lifecycle" class="headerlink" title="Component Definition and Lifecycle"></a>Component Definition and Lifecycle</h2><p>Under the hood, components are object prototypes. They implement an interface to modify the entity according to incoming data. Below we will go over the properties and methods of a component prototype.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>Current component data object including defaults defined in schema and mixins.</td>
</tr>
<tr>
<td>el</td>
<td>Reference to the entity element.</td>
</tr>
<tr>
<td>schema</td>
<td>Defines component data schema (e.g., possible properties, default values, possible values, types).</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Default Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td>init()</td>
<td>Lifecycle handler method. Called once when component is attached. Generally used for initial setup.</td>
<td>no-op</td>
</tr>
<tr>
<td>update(oldData)</td>
<td>Lifecycle handler method. Called when component is attached <em>and</em> when component data changes. Generally modifies the entity based on the data.</td>
<td>no-op</td>
</tr>
<tr>
<td>remove()</td>
<td>Lifecycle handler method. Called when a component is removed (via <code>removeAttribute</code>). Generally undoes previous modifications to the entity.</td>
<td>no-op</td>
</tr>
<tr>
<td>parse(value)</td>
<td>Deserializes HTML attribute strings into a data object. Can be overridden to do custom parsing.</td>
<td>CSS style parser</td>
</tr>
<tr>
<td>stringify(data)</td>
<td>Serializes data into an HTML attribute string. Can be overridden to do custom stringify-ing.</td>
<td>CSS style parser</td>
</tr>
</tbody>
</table>
<h2 id="Component_Schema"><a href="#Component_Schema" class="headerlink" title="Component Schema"></a>Component Schema</h2><p>Components define a schema object that specifies default values and type coercion/validation. Each key in the schema object refers to the name of a component property. The values of the schema object are objects that can specify several keys.</p>
<table>
<thead>
<tr>
<th>Schema Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td>Default value. If no value is specified, this default value is set in the component <code>data</code> for its property. The default value is also used as a reference for type coercion.</td>
</tr>
<tr>
<td>oneOf</td>
<td>An array that describes possible values for its property. If a value is set that is not in this array, a warning is thrown.</td>
</tr>
</tbody>
</table>
<p>For example, let’s take a look at a piece of the light component schema.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  intensity: &#123;</span><br><span class="line">    <span class="keyword">default</span>: <span class="number">1.0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  type: &#123;</span><br><span class="line">    <span class="keyword">default</span>: <span class="string">'directional'</span>,</span><br><span class="line">    oneOf: [<span class="string">'ambient'</span>, <span class="string">'directional'</span>, <span class="string">'hemisphere'</span>, <span class="string">'point'</span>, <span class="string">'spot'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Component_Registration"><a href="#Component_Registration" class="headerlink" title="Component Registration"></a>Component Registration</h2><p>To register your component, use the <code>registerComponent(componentName, componentDefinition)</code> function exposed by the library.</p>
<h2 id="Building_a_Component"><a href="#Building_a_Component" class="headerlink" title="Building a Component"></a>Building a Component</h2><p>Check out the <a href="https://github.com/ngokevin/aframe-component-boilerplate" target="_blank" rel="external">A-Frame component<br>boilerplate</a> to get<br>started on building and sharing a component. More detailed documentation on building<br>a component is coming soon.</p>
<p>Let’s create an example component that rapidly vibrates an object by shifting its position back and forth.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'aframe'</span>).registerComponent(<span class="string">'vibrate'</span>, &#123;</span><br><span class="line">  schema: &#123;</span><br><span class="line">    dur: &#123;</span><br><span class="line">      <span class="keyword">default</span>: <span class="number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    offset: &#123;</span><br><span class="line">      <span class="keyword">default</span>: <span class="number">0.01</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.animationEl = <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  update: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> anim = <span class="built_in">document</span>.createElement(<span class="string">'a-animation'</span>);</span><br><span class="line">    <span class="keyword">var</span> position = <span class="keyword">this</span>.el.getAttribute(<span class="string">'position'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.animationEl) &#123;</span><br><span class="line">      <span class="keyword">this</span>.el.removeChild(<span class="keyword">this</span>.animationEl);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    anim.setAttribute(<span class="string">'attribute'</span>, <span class="string">'position'</span>);</span><br><span class="line">    anim.setAttribute(<span class="string">'direction'</span>, <span class="string">'alternate'</span>);</span><br><span class="line">    anim.setAttribute(<span class="string">'dur'</span>, <span class="keyword">this</span>.data.dur);</span><br><span class="line">    anim.setAttribute(<span class="string">'repeat'</span>, <span class="string">'indefinite'</span>);</span><br><span class="line">    anim.setAttribute(<span class="string">'to'</span>, position.x + <span class="keyword">this</span>.data.offset + <span class="string">' '</span> +</span><br><span class="line">                            position.y + <span class="keyword">this</span>.data.offset +</span><br><span class="line">                            position.z + <span class="keyword">this</span>.data.offset);</span><br><span class="line">    <span class="keyword">this</span>.animationEl = anim;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  remove: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.animationEl) &#123;</span><br><span class="line">      <span class="keyword">this</span>.el.removeChild(<span class="keyword">this</span>.animationEl);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Updating_a_Component_on_Tick"><a href="#Updating_a_Component_on_Tick" class="headerlink" title="Updating a Component on Tick"></a>Updating a Component on Tick</h2><p>To have a component update on each frame or tick, we can register the component to the scene with <code>&lt;a-scene&gt;.addBehavior</code>. <code>addBehavior</code> registers callback functions on every frame or tick. Just pass the component into <code>addBehavior</code>. In the component:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.el.sceneEl.addBehavior(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure>


    <footer class="footer guide-links c">
      
        <span class="float-left"><a href="/docs/core/entity.html" class="guide-link guide-link-left">← Entity</a></span>
      
      
        <span class="float-right"><a href="/docs/core/scene.html" class="guide-link guide-link-right">Scene →</a></span>
      
    </footer>

    <footer class="footer footnote">
  <p>Caught a mistake or want to contribute to the documentation? <br><br> <a href="https://github.com/aframevr/aframe-site/blob/master/src/docs/core/component.md" class="github-file-link" target="_blank" rel="external">Suggest an edit to this page on GitHub</a></p>
</footer>

  </div>
</div>

    </main>
    <script src="/js/common.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
      (function () {
        if ('FastClick' in window) {
          document.addEventListener('DOMContentLoaded', function () {
            FastClick.attach(document.body);
          });
        }
      })();
    </script>
  </body>
</html>
