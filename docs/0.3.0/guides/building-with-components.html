













<!DOCTYPE html>
<html lang="en"
      data-is-home="false"
      data-is-mobile="false"
      data-supports-vr="false"
      data-supports-touch="false"
      data-site-base-url="https://aframe.io"
      data-site-root-path="/"
      data-site-home-url="https://aframe.io/"
      data-lib-home-url="https://aframe.io/"
      data-lib-examples-url="https://aframe.io/aframe/examples"
      data-title="{title} | A-Frame"
      data-is-spa="false"
      data-ga-id="UA-111391431-24"
      data-aframe-version="1.6.0"
      data-docs-version="0.3.0">
  <head>
    <title>Building with Components – A-Frame</title>


<script>
  var host = window.location.protocol + '//' + window.location.hostname;
  if (window.location.protocol === 'http:' &&
      window.location.hostname === 'https://aframe.io') {
    window.location.href = 'https:' + window.location.href.substring(6);
  }
</script>


    <meta charset="utf-8">
    <!-- Don't index old documentation pages. -->


    <meta name="description" content="">
    <meta name="keywords" content="webvr,webvr framework,webvr demos,webvr sites,vr javascript,vr framework">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Origin Trial Token, feature = WebXR Device API, origin = https://aframe.io, expires = 2018-03-05 -->
    <meta http-equiv="origin-trial" data-feature=" WebXR Device API (For Chrome M69+)" data-expires="2019-03-05" content="Ako5ueZ8LIub4MywyaWBtX6FQOVZBYPxDUBC09XfJRjVfQH1GXOaRO8v4/TQWyPdmw2qm8nJ/f9QfFwE+t20NwsAAABkeyJvcmlnaW4iOiJodHRwczovL2FmcmFtZS5pbzo0NDMiLCJmZWF0dXJlIjoiV2ViWFJEZXZpY2VNNjkiLCJleHBpcnkiOjE1NTE4MzAzOTksImlzU3ViZG9tYWluIjp0cnVlfQ==">
    <!-- Origin Trial Token, feature = WebVR (For Chrome M62+), origin = https://aframe.io, expires = 2018-08-09 -->
    <meta http-equiv="origin-trial" data-feature="WebVR (For Chrome M62+)" data-expires="2018-08-09" content="AlKeBeX7MGtuPmoZUks7FEWi6ke/EeYDPS1zhkb9bsdGr+r9gv+vYXGN7pUIz8+4XPxpWi7guenedSC1jM8B6AcAAABOeyJvcmlnaW4iOiJodHRwczovL2FmcmFtZS5pbzo0NDMiLCJmZWF0dXJlIjoiV2ViVlIxLjFNNjIiLCJleHBpcnkiOjE1MzM4NDAyMzN9">
    <link rel="canonical" href="https://aframe.io">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,600" rel="stylesheet">
    <meta property="fb:app_id" content="1535794316743373">
    <meta property="og:title" content="Building with Components – A-Frame">
    <meta property="og:site_name" content="A-Frame">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aframe.io">
    <meta property="og:description" content="">
    <meta property="og:image" content="http://aframe.io/images/card.jpg?v2">
    <meta property="og:image:secure_url" content="https://aframe.io/images/card.jpg?v2">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@aframevr">
    <meta name="twitter:creator" content="@aframevr">
    <meta name="twitter:title" content="Building with Components – A-Frame">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="http://aframe.io/images/card.jpg?v2">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="black">
    <link rel="icon" sizes="192x192" href="https://aframe.io/images/aframe-logo-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://aframe.io/images/aframe-logo-152.png">
    <link rel="alternate" type="application/rss+xml" title="Feed" href="https://aframe.io/feed.xml">
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-111391431-24', 'auto');
  ga('send', 'pageview');
  ga('send', 'event', 'pageload.querystring', window.location.search);
  ga('send', 'event', 'pageload.hash', window.location.hash);
</script>



      <script src="/js/compat.js"></script>



      <link rel="stylesheet" href="/css/secondary.css">



      <!-- Search. -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/>
      <link rel="stylesheet" href="/css/search.css">

  </head>

  <body data-page-layout="docs" data-page-type="guides">
    <main id="main" class="main">


<!-- Navigation. -->
<div class="wordmark">
  <header id="header" class="header">
    <a id="logo" class="logo" href="/" title="A-Frame">
      <span class="logo__wordmark">A-Frame</span>
    </a>
  </header>




<div class="docs-search-wrapper docs-search-sidebar">
  <input type="search" class="search-field" placeholder="Search..."></input>
</div>

</div>

<aside id="sidebar" class="sidebar borderless-links">


<div id="secondary-nav" class="secondary-nav">
  <header id="header" class="header">
    <a id="logo" class="logo" href="/" title="A-Frame">
      <span class="logo__wordmark">A-Frame</span>
    </a>
  </header>




<div class="docs-search-wrapper docs-search-sidebar-mobile">
  <input type="search" class="search-field" placeholder="Search..."></input>
</div>


  <ul id="nav" class="nav">

      <li  class="nav-item">
        <a href="/docs/1.6.0/introduction/"
           class="nav-link nav-link-docs current nav-link-disabled"

           >
          <span>Docs</span>
        </a>
      </li>

      <li  class="nav-item">
        <a href="/blog/"
           class="nav-link nav-link-docs"

           >
          <span>Blog</span>
        </a>
      </li>

      <li  class="nav-item">
        <a href="/community/"
           class="nav-link nav-link-docs"

           >
          <span>Community</span>
        </a>
      </li>

      <li  class="nav-item">
        <a href="/showcase/"
           class="nav-link nav-link-docs"

           >
          <span>Showcase</span>
        </a>
      </li>

      <li  data-slug="github" class="nav-item">
        <a href="https://github.com/aframevr/aframe/"
           class="nav-link nav-link-docs"
            rel="external"
            title="A-Frame Project Repository">
          <span>GitHub</span>
        </a>
      </li>

      <li  data-slug="slug" class="nav-item">
        <a href="https://aframe.io/slack-invite/"
           class="nav-link nav-link-docs"
            rel="external"
            title="Sign up to the A-Frame Slack">
          <span>Slack</span>
        </a>
      </li>

      <li  data-slug="slug" class="nav-item">
        <a href="https://discord.com/invite/tGYjkYr"
           class="nav-link nav-link-docs"
            rel="external"
            title="A-Frame Discord Channel">
          <span>Discord</span>
        </a>
      </li>

      <li  class="nav-item">
        <a href="https://aframe.io/subscribe/"
           class="nav-link nav-link-docs"
            rel="external"
           >
          <span>Newsletter</span>
        </a>
      </li>

      <li  class="nav-item">
        <a href="https://stackoverflow.com/questions/ask/?tags=aframe"
           class="nav-link nav-link-docs"
            rel="external"
           >
          <span>Ask a Question</span>
        </a>
      </li>

  </ul>
</div>


  <div class="list">
    <!-- Version dropdown. -->
    <label class="subnav-label" for="docs-version"><b>Version</b></label>
    <select id="docs-version" onchange="location = this.options[this.selectedIndex].getAttribute('data-href')">

        <option false
                data-href="/docs/master/introduction/">
          master
        </option>

        <option false
                data-href="/docs/1.6.0/introduction/">
          1.6.0
        </option>

        <option false
                data-href="/docs/1.5.0/introduction/">
          1.5.0
        </option>

        <option false
                data-href="/docs/1.4.0/introduction/">
          1.4.0
        </option>

        <option false
                data-href="/docs/1.3.0/introduction/">
          1.3.0
        </option>

        <option false
                data-href="/docs/1.2.0/introduction/">
          1.2.0
        </option>

        <option false
                data-href="/docs/1.1.0/introduction/">
          1.1.0
        </option>

        <option false
                data-href="/docs/1.0.0/introduction/">
          1.0.0
        </option>

        <option false
                data-href="/docs/0.9.0/introduction/">
          0.9.0
        </option>

        <option false
                data-href="/docs/0.8.0/introduction/">
          0.8.0
        </option>

        <option false
                data-href="/docs/0.7.0/introduction/">
          0.7.0
        </option>

        <option false
                data-href="/docs/0.6.0/introduction/">
          0.6.0
        </option>

        <option false
                data-href="/docs/0.5.0/introduction/">
          0.5.0
        </option>

        <option false
                data-href="/docs/0.4.0/introduction/">
          0.4.0
        </option>

        <option selected
                data-href="/docs/0.3.0/introduction/">
          0.3.0
        </option>

        <option false
                data-href="/docs/0.2.0/guide/">
          0.2.0
        </option>

        <option false
                data-href="/docs/0.1.0/guide/">
          0.1.0
        </option>

    </select>




      <!-- Section title. -->
      <h3 class="section-title docs-section-title section-title-inactive">
        <p class="section-title-link">Introduction</p>
      </h3>

      <!-- Section links. -->
      <ol class="subnav section-subnav">

          <li class="subnav-item ">
            <a href="/docs/0.3.0/introduction/"
               class="subnav-link">
              Introduction
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/introduction/getting-started.html"
               class="subnav-link">
              Getting Started
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/introduction/device-and-platform-support.html"
               class="subnav-link">
              Device & Platform Support
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/introduction/best-practices.html"
               class="subnav-link">
              Best Practices
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/introduction/faq.html"
               class="subnav-link">
              FAQ
            </a>
          </li>

      </ol>



      <!-- Section title. -->
      <h3 class="section-title docs-section-title section-title-active">
        <p class="section-title-link">Guides</p>
      </h3>

      <!-- Section links. -->
      <ol class="subnav section-subnav">

          <li class="subnav-item ">
            <a href="/docs/0.3.0/guides/"
               class="subnav-link">
              Building with Basic HTML
            </a>
          </li>

          <li class="subnav-item  subnav-item-current">
            <a href="/docs/0.3.0/guides/building-with-components.html"
               class="subnav-link current">
              Building with Components
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/guides/building-with-magicavoxel.html"
               class="subnav-link">
              Building with MagicaVoxel
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/guides/using-the-aframe-inspector.html"
               class="subnav-link">
              Using the A-Frame Inspector
            </a>
          </li>

      </ol>



      <!-- Section title. -->
      <h3 class="section-title docs-section-title section-title-inactive">
        <p class="section-title-link">Concepts and API</p>
      </h3>

      <!-- Section links. -->
      <ol class="subnav section-subnav">

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/"
               class="subnav-link">
              Entity-Component-System
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/entity.html"
               class="subnav-link">
              Entity
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/component.html"
               class="subnav-link">
              Component
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/systems.html"
               class="subnav-link">
              System
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/scene.html"
               class="subnav-link">
              Scene
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/animations.html"
               class="subnav-link">
              Animations
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/mixins.html"
               class="subnav-link">
              Mixins
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/asset-management-system.html"
               class="subnav-link">
              Asset Management System
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/AFRAME.html"
               class="subnav-link">
              AFRAME Globals
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/core/utils.html"
               class="subnav-link">
              Utils
            </a>
          </li>

      </ol>



      <!-- Section title. -->
      <h3 class="section-title docs-section-title section-title-inactive">
        <p class="section-title-link">Components</p>
      </h3>

      <!-- Section links. -->
      <ol class="subnav section-subnav">

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/blend-model.html"
               class="subnav-link">
              blend-model
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/camera.html"
               class="subnav-link">
              camera
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/collada-model.html"
               class="subnav-link">
              collada-model
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/cursor.html"
               class="subnav-link">
              cursor
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/debug.html"
               class="subnav-link">
              debug
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/embedded.html"
               class="subnav-link">
              embedded
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/fog.html"
               class="subnav-link">
              fog
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/geometry.html"
               class="subnav-link">
              geometry
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/hand-controls.html"
               class="subnav-link">
              hand-controls
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/keyboard-shortcuts.html"
               class="subnav-link">
              keyboard-shortcuts
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/light.html"
               class="subnav-link">
              light
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/look-controls.html"
               class="subnav-link">
              look-controls
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/material.html"
               class="subnav-link">
              material
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/obj-model.html"
               class="subnav-link">
              obj-model
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/position.html"
               class="subnav-link">
              position
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/raycaster.html"
               class="subnav-link">
              raycaster
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/rotation.html"
               class="subnav-link">
              rotation
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/scale.html"
               class="subnav-link">
              scale
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/sound.html"
               class="subnav-link">
              sound
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/stats.html"
               class="subnav-link">
              stats
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/tracked-controls.html"
               class="subnav-link">
              tracked-controls
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/visible.html"
               class="subnav-link">
              visible
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/vive-controls.html"
               class="subnav-link">
              vive-controls
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/vr-mode-ui.html"
               class="subnav-link">
              vr-mode-ui
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/components/wasd-controls.html"
               class="subnav-link">
              wasd-controls
            </a>
          </li>

      </ol>



      <!-- Section title. -->
      <h3 class="section-title docs-section-title section-title-inactive">
        <p class="section-title-link">Primitives</p>
      </h3>

      <!-- Section links. -->
      <ol class="subnav section-subnav">

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/"
               class="subnav-link">
              Introduction
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-box.html"
               class="subnav-link">
              &lt;a-box&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-camera.html"
               class="subnav-link">
              &lt;a-camera&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-circle.html"
               class="subnav-link">
              &lt;a-circle&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-collada-model.html"
               class="subnav-link">
              &lt;a-collada-model&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-cone.html"
               class="subnav-link">
              &lt;a-cone&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-cursor.html"
               class="subnav-link">
              &lt;a-cursor&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-curvedimage.html"
               class="subnav-link">
              &lt;a-curvedimage&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-cylinder.html"
               class="subnav-link">
              &lt;a-cylinder&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-dodecahedron.html"
               class="subnav-link">
              &lt;a-dodecahedron&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-image.html"
               class="subnav-link">
              &lt;a-image&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-light.html"
               class="subnav-link">
              &lt;a-light&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-obj-model.html"
               class="subnav-link">
              &lt;a-obj-model&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-octahedron.html"
               class="subnav-link">
              &lt;a-octahedron&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-plane.html"
               class="subnav-link">
              &lt;a-plane&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-ring.html"
               class="subnav-link">
              &lt;a-ring&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-sky.html"
               class="subnav-link">
              &lt;a-sky&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-sound.html"
               class="subnav-link">
              &lt;a-sound&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-sphere.html"
               class="subnav-link">
              &lt;a-sphere&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-tetrahedron.html"
               class="subnav-link">
              &lt;a-tetrahedron&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-torus-knot.html"
               class="subnav-link">
              &lt;a-torus-knot&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-torus.html"
               class="subnav-link">
              &lt;a-torus&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-video.html"
               class="subnav-link">
              &lt;a-video&gt;
            </a>
          </li>

          <li class="subnav-item ">
            <a href="/docs/0.3.0/primitives/a-videosphere.html"
               class="subnav-link">
              &lt;a-videosphere&gt;
            </a>
          </li>

      </ol>

  </div>
</aside>

  <!-- Documentation. -->
  <div class="content content--structured content--guides copy">
    <div class="mobile-header">
  <a id="sidebar-toggle" href="#" title="Toggle sidebar">&equiv;</a>
  <h1><a href="/">A-Frame</a></h1>
  <span></span>
</div>

<script>
  (function() {
    var sidebarEl = document.querySelector('#sidebar');
    var toggleEl = document.querySelector('#sidebar-toggle');

    // Open sidebar on toggle click.
    toggleEl.addEventListener('click', function () {
      sidebarEl.classList.add('sidebar-open');
    });

    // Close sidebar when clicking content.
    document.body.addEventListener('click', function (evt) {
      if (evt.target !== toggleEl && !evt.target.closest('#sidebar')) {
        sidebarEl.classList.remove('sidebar-open');
      }
    });

    function closest (el, selector) {
      var matchesFn;
      var parent;
      // Vendor prefix.
      ['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector',
       'oMatchesSelector'].some(function (fn) {
          if (typeof document.body[fn] == 'function') {
            matchesFn = fn;
            return true;
          }
          return false;
      });
      // Traverse parents.
      while (el) {
        parent = el.parentElement;
        if (parent && parent[matchesFn](selector)) { return parent; }
        el = parent;
      }
      return null;
    }
  })();
</script>


    <div class="copy__wrap">
      <div class="page__section docs-header">
        <p>
          <a href="/docs/0.3.0/guides/" class="borderless-link">
            0.3.0 &rsaquo; Guides
          </a>
        </p>
      </div>
      <h1 class="page__title">
        Building with Components
      </h1>





        <blockquote>
<p><strong>Note:</strong> This documentation is for the old 0.3.0 version of A-Frame. Check out the <a href="/docs/1.6.0/introduction/">documentation for the current 1.6.0 version</a></p>
</blockquote>



      <blockquote>
<p>Fork the <a href="https://github.com/aframevr/360-image-gallery-boilerplate" target="_blank" rel="external">360&deg; Image Gallery Boilerplate on GitHub</a>.</p>
</blockquote>
<p><img src="/images/docs/360-image-viewer.png" alt="360&deg; Image Viewer"></p>
<p>Let’s create an example of building a scene using an
<a href="../core/">entity-component-system</a> workflow. This guide will introduce three
concepts:</p>
<ol>
<li>Using the standard <a href="../core/component.html">components</a> that ship with A-Frame.</li>
<li>Using third-party components from the ecosystem.</li>
<li>Writing custom components to accomplish whatever we want.</li>
</ol>
<p>The scene we will build is a <strong>360&deg; image gallery</strong>. There will be three
panels which the user can click on. Once clicked, the background will fade and
swap the 360&deg; images.</p>
<!--toc-->

<h2 id="skeleton"><a href="#skeleton" class="headerlink" title="Skeleton"></a>Skeleton</h2><p>This is the starting point for our scene:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-scene</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a-assets</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">audio</span> <span class="attr">id</span>=<span class="string">"click-sound"</span> <span class="attr">src</span>=<span class="string">"audio/click.ogg"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Images. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"city"</span> <span class="attr">src</span>=<span class="string">"img/city.jpg"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"city-thumb"</span> <span class="attr">src</span>=<span class="string">"img/thumb-city.png"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"cubes"</span> <span class="attr">src</span>=<span class="string">"img/cubes.jpg"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"cubes-thumb"</span> <span class="attr">src</span>=<span class="string">"img/thumb-cubes.png"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"sechelt"</span> <span class="attr">src</span>=<span class="string">"img/sechelt.jpg"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"sechelt-thumb"</span> <span class="attr">src</span>=<span class="string">"img/thumb-sechelt.png"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a-assets</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 360-degree image. --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a-sky</span> <span class="attr">id</span>=<span class="string">"image-360"</span> <span class="attr">radius</span>=<span class="string">"10"</span> <span class="attr">src</span>=<span class="string">"#city"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-sky</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Link. --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a-plane</span> <span class="attr">class</span>=<span class="string">"link"</span> <span class="attr">height</span>=<span class="string">"1"</span> <span class="attr">width</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-plane</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Camera + Cursor. --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a-camera</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a-cursor</span> <span class="attr">id</span>=<span class="string">"cursor"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a-animation</span> <span class="attr">begin</span>=<span class="string">"click"</span> <span class="attr">easing</span>=<span class="string">"ease-in"</span> <span class="attr">attribute</span>=<span class="string">"scale"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">fill</span>=<span class="string">"backwards"</span> <span class="attr">from</span>=<span class="string">"0.1 0.1 0.1"</span> <span class="attr">to</span>=<span class="string">"1 1 1"</span> <span class="attr">dur</span>=<span class="string">"150"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-animation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a-animation</span> <span class="attr">begin</span>=<span class="string">"cursor-fusing"</span> <span class="attr">easing</span>=<span class="string">"ease-in"</span> <span class="attr">attribute</span>=<span class="string">"scale"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">from</span>=<span class="string">"1 1 1"</span> <span class="attr">to</span>=<span class="string">"0.1 0.1 0.1"</span> <span class="attr">dur</span>=<span class="string">"1500"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-animation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a-cursor</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a-camera</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a-scene</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>We have predefined:</p>
<ul>
<li>Several images to choose from in the <a href="../core/asset-management-system.html">Asset Management System</a> within <code>&lt;a-assets&gt;</code>.</li>
<li>Our 360&deg; image placeholder with <a href="../primitives/a-sky.html"><code>&lt;a-sky&gt;</code></a>.</li>
<li>A <a href="../components/cursor.html">cursor</a> with visual feedback using event-driven
<a href="../core/animations.html#begin">animations</a>, fixed to the <a href="../primitives/a-camera.html">camera</a>.</li>
</ul>
<h2 id="using-standard-components"><a href="#using-standard-components" class="headerlink" title="Using Standard Components"></a>Using Standard Components</h2><p>Standard components are components that ship with A-Frame, like any standard
library. We’ll go over how to attach these components to entities and configure
them from HTML.</p>
<p>We want to add an image texture to <code>&lt;a-plane&gt;</code> link using the <a href="../components/material.html">material
component</a>.</p>
<p>The material component is a <a href="../core/component.html#multi-property-component">multi-property component</a>. To
attach the material component to the plane, we set the component name as an
HTML attribute:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-plane</span> <span class="attr">class</span>=<span class="string">"link"</span> <span class="attr">height</span>=<span class="string">"1"</span> <span class="attr">width</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">material</span>&gt;</span><span class="tag">&lt;/<span class="name">a-plane</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Then we the specify the component data using a syntax that resembles that of
inline CSS styles. We set <code>shader</code> to <code>flat</code> so the image isn’t affected
negatively by lighting. And we set <code>src</code> to <code>#cubes-thumb</code>, a selector to one
of the images defined in the <a href="../core/asset-management-system.html">Asset Management System</a>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-plane</span> <span class="attr">class</span>=<span class="string">"link"</span> <span class="attr">height</span>=<span class="string">"1"</span> <span class="attr">width</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">material</span>=<span class="string">"shader: flat; src: #cubes-thumb"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-plane</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Let’s attach one more standard component, the <a href="../components/sound.html">sound component</a>. We want
to make it such that when we click (via gazing) on the link, it plays a click
sound. The syntax is the same as before, but instead we are now using the sound
component’s properties. We set <code>on</code> to <code>click</code> so the sound is played on click.
And we set <code>src</code> to <code>#click-sound</code>, a selector to our <code>&lt;audio&gt;</code> element.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-plane</span> <span class="attr">class</span>=<span class="string">"link"</span> <span class="attr">height</span>=<span class="string">"1"</span> <span class="attr">width</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">material</span>=<span class="string">"shader: flat; src: #cubes-thumb"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">sound</span>=<span class="string">"on: click; src: #click-sound"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-plane</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Now we have a textured plane that plays a click sound when clicked.</p>
<h2 id="using-third-party-components"><a href="#using-third-party-components" class="headerlink" title="Using Third-Party Components"></a>Using Third-Party Components</h2><p>We can grab third-party components from the <a href="https://github.com/aframevr/awesome-aframe#components" target="_blank" rel="external">ecosystem</a>, drop them into our
scene, and use them in our HTML. Components can do anything. By using components
that other people have developed, we gain tons of power without needing to
write our own code.</p>
<p>We’ll go through using three such third-party components: template, layout, and
event-set. First, we have to include them. <a href="https://github.com/ngokevin/kframe/" target="_blank" rel="external">K-Frame</a> is a component
pack by <a href="https://github.com/ngokevin" target="_blank" rel="external">Kevin Ngo</a>, an A-Frame core developer, that conveniently
includes all three of these components in one bundle.</p>
<p>To drop in K-Frame, download <a href="https://raw.githubusercontent.com/ngokevin/kframe/master/dist/kframe.min.js" target="_blank" rel="external"><code>k-frame.min.js</code></a> from the project’s
<a href="https://github.com/ngokevin/kframe/tree/master/dist" target="_blank" rel="external"><code>dist</code> folder</a> and include it in the <code>&lt;head&gt;</code> <em>after</em> A-Frame:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>360° Image Browser<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"lib/aframe.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"lib/k-frame.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a-scene</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a-scene</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="template-component"><a href="#template-component" class="headerlink" title="Template Component"></a>Template Component</h3><p>Currently, we have one link. We want to create three of them, one for each of
our 360&deg; images.</p>
<p>The <a href="https://github.com/ngokevin/aframe-template-component" target="_blank" rel="external">template component</a> integrates templating engines into A-Frame.
This lets us do things such as encapsulate groups of entities, passing data to
generate entities, or iteration. Since we want to turn one link into three,
without copy-and-pasting HTML, we can use the template component.</p>
<p>If we read the <a href="https://github.com/ngokevin/aframe-template-component" target="_blank" rel="external">template component’s documentation</a>, we see one way
to define a template is via a script tag in <code>&lt;a-assets&gt;</code>. Let’s make our link a
template and give it a name using an <code>id</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-assets</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">"plane"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;a-plane <span class="class"><span class="keyword">class</span></span>=<span class="string">"link"</span> height=<span class="string">"1"</span> width=<span class="string">"1"</span></span></span><br><span class="line"><span class="javascript">             material=<span class="string">"shader: flat; src: #cubes-thumb"</span></span></span><br><span class="line"><span class="javascript">             sound=<span class="string">"on: click; src: #click-sound"</span>&gt;&lt;<span class="regexp">/a-plane&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a-assets</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Then we can use the template to create multiple planes without much work:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>But then they’ll all be displaying the same image texture and look the same.
Here is where we’ll need a template engine with variable
substitution/interpolation.</p>
<p>Let’s tell the template component to use the popular <a href="https://mozilla.github.io/nunjucks/" target="_blank" rel="external">Nunjucks</a>
engine by specifying <code>&lt;script type=&quot;text/nunjucks&quot;&gt;</code>. The component will
lazy-load the template engine for us. And with Nunjucks, we define a <code></code> variable in the template, which we can pass using the <a href="https://developer.mozilla.org/docs/Web/Guide/HTML/Using_data_attributes" target="_blank" rel="external">data attributes</a>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-assets</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Specify Nunjucks. --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">"plane"</span> <span class="attr">type</span>=<span class="string">"text/nunjucks"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;a-plane <span class="class"><span class="keyword">class</span></span>=<span class="string">"link"</span> height=<span class="string">"1"</span> width=<span class="string">"1"</span></span></span><br><span class="line"><span class="javascript">             material=<span class="string">"shader: flat; src: &#123;&#123; thumb &#125;&#125;"</span></span></span><br><span class="line"><span class="javascript">             sound=<span class="string">"on: click; src: #click-sound"</span>&gt;&lt;<span class="regexp">/a-plane&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a-assets</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Pass image sources to the template. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span> <span class="attr">data-thumb</span>=<span class="string">"#city-thumb"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span> <span class="attr">data-thumb</span>=<span class="string">"#cubes-thumb"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span> <span class="attr">data-thumb</span>=<span class="string">"#sechelt-thumb"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The template component allows us to keep our scene clean by not having to
repeat verbose code.</p>
<h3 id="layout-component"><a href="#layout-component" class="headerlink" title="Layout Component"></a>Layout Component</h3><p>Because the default position of an entity is <code>0 0 0</code>, the entities will
overlap. While we could manually position each link, we could instead use the
<a href="https://github.com/ngokevin/aframe-layout-component" target="_blank" rel="external">layout component</a> to do it for us. The layout component will
automatically position its children to the specified layout.</p>
<p>We create a wrapper entity around our links and attach the layout component
using the <code>line</code> layout:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">id</span>=<span class="string">"links"</span> <span class="attr">layout</span>=<span class="string">"layout: line; margin: 1.5"</span> <span class="attr">position</span>=<span class="string">"-3 -1 -4"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span> <span class="attr">data-thumb</span>=<span class="string">"#city-thumb"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span> <span class="attr">data-thumb</span>=<span class="string">"#cubes-thumb"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a-entity</span> <span class="attr">template</span>=<span class="string">"src: #plane"</span> <span class="attr">data-thumb</span>=<span class="string">"#sechelt-thumb"</span>&gt;</span><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a-entity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Now our links are no longer overlapping without us having to calculate and
fiddle with positions.</p>
<h3 id="event-set-component"><a href="#event-set-component" class="headerlink" title="Event-Set Component"></a>Event-Set Component</h3><p>Lastly, we’ll add some visual feedback to our links. We want them to scale up
and scale back when they are hovered or clicked. This involves writing an event
listener to do <code>setAttribute</code>s on the <a href="../components/scale.html">scale component</a> in response to
<a href="../components/cursor.html#events">cursor events</a>. This is a fairly common pattern so there is an
<a href="https://github.com/ngokevin/aframe-event-set-component" target="_blank" rel="external">event-set component</a> that does <code>setAttribute</code> in response to
events.</p>
<p>Let’s attach event listeners on our links to scale them up when they are gazed
over, scale them down as they are being clicked, and scale them back when they
are no longer gazed upon. We are mimicking CSS <code>:hover</code> states. We can specify
event names with <code>_event</code> properties, and the rest of the properties define the
<code>setAttribute</code> calls. Notice that the event-set component can have <a href="../core/component.html#multiple-instancing">multiple
instances</a>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-assets</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">"link"</span> <span class="attr">type</span>=<span class="string">"text/nunjucks"</span>&gt;</span></span><br><span class="line"><span class="javascript">    &lt;a-plane <span class="class"><span class="keyword">class</span></span>=<span class="string">"link"</span> height=<span class="string">"1"</span> width=<span class="string">"1"</span></span></span><br><span class="line"><span class="javascript">             material=<span class="string">"shader: flat; src: &#123;&#123; thumb &#125;&#125;"</span></span></span><br><span class="line"><span class="javascript">             sound=<span class="string">"on: click; src: #click-sound"</span></span></span><br><span class="line"><span class="javascript">             event-set__1=<span class="string">"_event: mousedown; scale: 1 1 1"</span></span></span><br><span class="line"><span class="javascript">             event-set__2=<span class="string">"_event: mouseup; scale: 1.2 1.2 1"</span></span></span><br><span class="line"><span class="javascript">             event-set__3=<span class="string">"_event: mouseenter; scale: 1.2 1.2 1"</span></span></span><br><span class="line"><span class="javascript">             event-set__4=<span class="string">"_event: mouseleave; scale: 1 1 1"</span>&gt;&lt;<span class="regexp">/a-plane&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a-assets</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Wielding components, we were able to do a lot with just a few more lines of
HTML. Though the ecosystem has a lot to offer, your scenes will often require
writing your own simple components.</p>
<h2 id="writing-components"><a href="#writing-components" class="headerlink" title="Writing Components"></a>Writing Components</h2><p>The <a href="../core/component.html">component documentation</a> has detailed information on writing a
component. The most basic component takes the form of:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AFRAME.registerComponent(<span class="string">'component-name'</span>, &#123;</span><br><span class="line">  <span class="comment">// Define component properties.</span></span><br><span class="line">  schema: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Run when component is attached.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@member <span class="type">&#123;Element&#125;</span> <span class="variable">el</span></span> - Entity.</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@member <span class="variable">data</span></span> - Component data.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Do stuff using `this.el` and `this.data`.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="update-raycaster-component"><a href="#update-raycaster-component" class="headerlink" title="Update Raycaster Component"></a>Update Raycaster Component</h3><p>First, let us whitelist the entities that the cursor’s raycaster is checking
for intersections against. That way, the cursor will only click if something
can be clicked, and it is also better for performance. The cursor is built on
top of the <a href="http://threejs.org/docs/index.html#Reference/Core/Raycaster" target="_blank" rel="external">raycaster component</a>, and we can configure the
raycaster. We update the raycaster component’s <code>objects</code> property which takes a
selector:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a-cursor</span> <span class="attr">id</span>=<span class="string">"cursor"</span> <span class="attr">raycaster</span>=<span class="string">"objects: .link"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This list will be populated once the raycaster component attaches.
Unfortunately since the links are templated, they won’t be found at that time.
What we can do is write a component that refreshes our raycaster when the link
attaches. Here is the skeleton of our component:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AFRAME.registerComponent(<span class="string">'update-raycaster'</span>, &#123;</span><br><span class="line">  schema: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>First, we fill out the [<code>schema</code>][schema] so that we can pass in which raycaster to
update. We make it a single-property schema that takes a selector such that we can
simply do <code>update-raycaster=&quot;#cursor&quot;</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AFRAME.registerComponent(<span class="string">'update-raycaster'</span>, &#123;</span><br><span class="line">  schema: &#123;</span><br><span class="line">    type: <span class="string">'selector'</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Then we use that data to actually update the raycaster in the <code>init</code> lifecycle
method, which is called when the component is attached to the entity. We grab
the raycaster and update it:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AFRAME.registerComponent(<span class="string">'update-raycaster'</span>, &#123;</span><br><span class="line">  schema: &#123;</span><br><span class="line">    type: <span class="string">'selector'</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> raycasterEl = <span class="keyword">this</span>.data;</span><br><span class="line">    <span class="keyword">this</span>.data.components.raycaster.refreshObjects();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="set-image-component"><a href="#set-image-component" class="headerlink" title="Set-Image Component"></a>Set-Image Component</h3><blockquote>
<p>View the full <a href="https://github.com/aframevr/360-image-viewer-boilerplate/blob/master/components/set-image.js" target="_blank" rel="external"><code>set-image</code> component on GitHub</a>.</p>
</blockquote>
<p>Finally, we write the component that fades the sky into a new 360&deg; image
once one of the links are clicked. Here is the skeleton for our set-image
component.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AFRAME.registerComponent(<span class="string">'set-image'</span>, &#123;</span><br><span class="line">  schema: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Now we decide what the API for our image-setting component will be. We need:</p>
<ul>
<li>An event name to listen to.</li>
<li>Which entity to change the texture of.</li>
<li>The image texture.</li>
<li>An animation fade duration.</li>
</ul>
<p>So we translate those properties to the schema:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AFRAME.registerComponent(<span class="string">'set-image'</span>, &#123;</span><br><span class="line">  schema: &#123;</span><br><span class="line">    on: &#123;<span class="attr">type</span>: <span class="string">'string'</span>&#125;,</span><br><span class="line">    target: &#123;<span class="attr">type</span>: <span class="string">'selector'</span>&#125;,</span><br><span class="line">    src: &#123;<span class="attr">type</span>: <span class="string">'string'</span>&#125;,</span><br><span class="line">    dur: &#123;<span class="attr">type</span>: <span class="string">'number'</span>, <span class="attr">default</span>: <span class="number">300</span>&#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  setupFadeAnimation: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Appends an &lt;a-animation&gt; that fades to black.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Now we set up the event listener to change the image while the texture has
faded to black. Whenever the event is emitted (in our case, a click), then the
component will trigger the animation (which is listening for <code>set-image-fade</code>),
wait the appropriate amount of time, and swap the image:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = <span class="keyword">this</span>.data;</span><br><span class="line">  <span class="keyword">var</span> el = <span class="keyword">this</span>.el;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.setupFadeAnimation();</span><br><span class="line"></span><br><span class="line">  el.addEventListener(data.on, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Fade out image.</span></span><br><span class="line">    data.target.emit(<span class="string">'set-image-fade'</span>);</span><br><span class="line">    <span class="comment">// Wait for fade to complete.</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// Set image.</span></span><br><span class="line">      data.target.setAttribute(<span class="string">'material'</span>, <span class="string">'src'</span>, data.src);</span><br><span class="line">    &#125;, data.dur);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>
<p>And that concludes our 360&deg; image gallery.</p>
<blockquote>
<p><strong><a href="https://aframe.io/360-image-gallery-boilerplate/">Try it out!</a></strong></p>
</blockquote>


      <!-- Previous / Next navigation. -->
      <footer class="footer guide-links c">

          <span class="float-left">
            <a href="/docs/0.3.0/guides/" class="guide-link guide-link-left">← Building with Basic HTML </a></span>


          <span class="float-right">
            <a href="/docs/0.3.0/guides/building-with-magicavoxel.html" class="guide-link guide-link-right">Building with MagicaVoxel →</a></span>

      </footer>

      <footer class="footer footnote">
  <p>
    The A-Frame project and content on this site are licensed under the <a href="https://github.com/aframevr/aframe/blob/master/LICENSE" rel="external">MIT License</a>.
  </p>
  <p>Found a typo or suggestion for the docs? <br><br> <a href="https://github.com/aframevr/aframe/edit/master/docs/guides/building-with-components.md" class="github-file-link" target="_blank" rel="external">Suggest an edit on GitHub</a></p>
  <p>Project maintained by <a href="https://supermedium.com">Supermedium</a>.</p>
</footer>

    </div>

    <div class="secondary-sidebar">


<div id="table-of-contents" class="nav-list">
  <p class="section-title docs-section-title">Table of Contents</p>

  <ul class="subnav">

      <li class="subnav-item">
        <a class="subnav-link" href="#skeleton">Skeleton</a>

        <!-- Nested. -->

          <ul>

          </ul>

      </li>

      <li class="subnav-item">
        <a class="subnav-link" href="#using-standard-components">Using Standard Components</a>

        <!-- Nested. -->

          <ul>

          </ul>

      </li>

      <li class="subnav-item">
        <a class="subnav-link" href="#using-third-party-components">Using Third-Party Components</a>

        <!-- Nested. -->

          <ul>

              <li class="subnav-item">
                <a class="subnav-link" href="#template-component">Template Component</a>
              </li>

              <li class="subnav-item">
                <a class="subnav-link" href="#layout-component">Layout Component</a>
              </li>

              <li class="subnav-item">
                <a class="subnav-link" href="#event-set-component">Event-Set Component</a>
              </li>

          </ul>

      </li>

      <li class="subnav-item">
        <a class="subnav-link" href="#writing-components">Writing Components</a>

        <!-- Nested. -->

          <ul>

              <li class="subnav-item">
                <a class="subnav-link" href="#update-raycaster-component">Update Raycaster Component</a>
              </li>

              <li class="subnav-item">
                <a class="subnav-link" href="#set-image-component">Set-Image Component</a>
              </li>

          </ul>

      </li>

  </ul>
</div>



      <div class="doc-actions">
        <a class="docs-suggest-edit github-file-link" href="https://github.com/aframevr/aframe/edit/master/docs/guides/building-with-components.md" target="_blank" rel="external">Edit Page</a>

      </div>
    </div>
  </div>
</div>
</main>


      <script src="/js/common.js"></script>


        <script src="/js/docs.js"></script>




      <!-- Algolia search. -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
  var searchConfig = {
    apiKey: '9e4a51a1da70daf959bd4750a3fa8f52',
    indexName: 'aframe',
    algoliaOptions: {
      facetFilters: ['version:0.3.0'],
      hitsPerPage: 10
    },
    debug: false
  };

  docsearch(Object.assign(searchConfig, {inputSelector: '.docs-search-sidebar .search-field'}));
  docsearch(Object.assign(searchConfig, {inputSelector: '.docs-search-sidebar-mobile .search-field'}));
</script>


  </body>
</html>
